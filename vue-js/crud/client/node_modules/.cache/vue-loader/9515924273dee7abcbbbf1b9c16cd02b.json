{"remainingRequest":"C:\\LUÍS PEREIRA\\Projetos\\Vue.js\\crud\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\LUÍS PEREIRA\\Projetos\\Vue.js\\crud\\client\\src\\components\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\LUÍS PEREIRA\\Projetos\\Vue.js\\crud\\client\\src\\components\\Main.vue","mtime":1599792051686},{"path":"C:\\LUÍS PEREIRA\\Projetos\\Vue.js\\crud\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\LUÍS PEREIRA\\Projetos\\Vue.js\\crud\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\LUÍS PEREIRA\\Projetos\\Vue.js\\crud\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\LUÍS PEREIRA\\Projetos\\Vue.js\\crud\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\LUÍS PEREIRA\\Projetos\\Vue.js\\crud\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgbmFtZTogIk1haW4iLAogICBkYXRhOiAoKSA9PiAoewogICAgICBhbGxEYXRhOiAiIiwKICAgICAgZmlyc3ROYW1lOiAiIiwKICAgICAgbGFzdE5hbWU6ICIiLAogICAgICBidXR0b25BY3Rpb246ICJJbnNlcnQiLAogICAgICBwb3B1cFRpdGxlOiAiTm92byBVdGlsaXphZG9yIiwKICAgICAgcG9wdXBJc0FjdGl2ZTogZmFsc2UsCiAgIH0pLAogICBtZXRob2RzOiB7CiAgICAgIG9wZW5Qb3B1cDogZnVuY3Rpb24gKCkgewogICAgICAgICB0aGlzLmZpcnN0TmFtZSA9ICIiOwogICAgICAgICB0aGlzLmxhc3ROYW1lID0gIiI7CiAgICAgICAgIHRoaXMuYnV0dG9uQWN0aW9uID0gIkluc2VydCI7CiAgICAgICAgIHRoaXMucG9wdXBJc0FjdGl2ZSA9IHRydWU7CiAgICAgICAgIHRoaXMucG9wdXBUaXRsZSA9ICJOb3ZvIFV0aWxpemFkb3IiOwogICAgICB9LAogICAgICBmZXRjaEFsbERhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgdGhpcy5heGlvcwogICAgICAgICAgICAucG9zdCgiaHR0cDovL2FwaS5wdC9pbmRleC5waHAiLCB7CiAgICAgICAgICAgICAgIGFjdGlvbjogImZldGNoQWxsIiwKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiAodGhpcy5hbGxEYXRhID0gcmVzcG9uc2UuZGF0YSkpCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+CiAgICAgICAgICAgICAgIGFsZXJ0KCJFcnJvOiBhbGdvIGRldSBlcnJhZG8gY29tIG8gc2Vydmlkb3I6ICIsIGVycm9yKQogICAgICAgICAgICApOwogICAgICB9LAogICAgICBzdWJtaXREYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgIGlmICh0aGlzLmZpcnN0TmFtZSAhPSAiIiAmJiB0aGlzLmxhc3ROYW1lICE9ICIiKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmJ1dHRvbkFjdGlvbiA9PSAiSW5zZXJ0IikgewogICAgICAgICAgICAgICB0aGlzLmF4aW9zCiAgICAgICAgICAgICAgICAgIC5wb3N0KCJodHRwOi8vYXBpLnB0L2luZGV4LnBocCIsIHsKICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IHRoaXMubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwSXNBY3RpdmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaEFsbERhdGEoKTsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJzdE5hbWUgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0TmFtZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PgogICAgICAgICAgICAgICAgICAgICBhbGVydCgiRXJybzogYWxnbyBkZXUgZXJyYWRvIGNvbSBvIHNlcnZpZG9yOiAiLCBlcnJvcikKICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5idXR0b25BY3Rpb24gPT0gIlVwZGF0ZSIpIHsKCiAgICAgICAgICAgIH0KICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIk9zIGNhbXBvcyBkZXZlbSBzZXIgcHJlZW5jaGlkb3MhIik7CiAgICAgICAgIH0KICAgICAgfSwKICAgfSwKICAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmZldGNoQWxsRGF0YSgpOwogICB9LAp9Owo="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/components","sourcesContent":["<template>\n   <v-container>\n      <v-row class=\"text-center\" align=\"center\" justify=\"center\">\n         <v-col>\n            <h1 class=\"display-1 font-weight-bold float-left\">Gestão de Utilizadores</h1>\n         </v-col>\n         <v-col>\n            <v-btn class=\"primary float-right\" color=\"success\" v-on:click=\"openPopup\">Adicionar</v-btn>\n         </v-col>\n      </v-row>\n\n      <v-simple-table dark>\n         <template v-slot:default>\n            <thead>\n               <tr>\n                  <th class=\"text-center\">Primeiro Nome</th>\n                  <th class=\"text-center\">Último Nome</th>\n                  <th class=\"text-center\">Editar</th>\n                  <th class=\"text-center\">Remover</th>\n               </tr>\n            </thead>\n            <tbody>\n               <tr v-for=\"(item, index) in allData\" :key=\"index\">\n                  <td class=\"text-center\">{{ item.first_name }}</td>\n                  <td class=\"text-center\">{{ item.last_name }}</td>\n                  <th class=\"text-center\">\n                     <v-btn color=\"warning\" v-on:click=\"openPopup\">Editar</v-btn>\n                  </th>\n                  <th class=\"text-center\">\n                     <v-btn color=\"error\">Remover</v-btn>\n                  </th>\n               </tr>\n            </tbody>\n         </template>\n      </v-simple-table>\n\n      <v-dialog v-model=\"popupIsActive\" max-width=\"400px\">\n         <v-card>\n            <v-card-title>\n               <span class=\"headline\">{{ popupTitle }}</span>\n            </v-card-title>\n            <v-card-text>\n               <v-container>\n                  <v-row>\n                     <v-col cols=\"6\">\n                        <v-text-field label=\"Primeiro Nome*\" v-model=\"firstName\" required></v-text-field>\n                     </v-col>\n                     <v-col cols=\"6\">\n                        <v-text-field label=\"Último Nome*\" v-model=\"lastName\" required></v-text-field>\n                     </v-col>\n                  </v-row>\n               </v-container>\n            </v-card-text>\n            <v-card-actions>\n               <v-spacer></v-spacer>\n               <v-btn color=\"blue darken-1\" text @click=\"popupIsActive = false\">Cancelar</v-btn>\n               <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"submitData\"\n                  v-model=\"buttonAction\"\n               >Adicionar</v-btn>\n            </v-card-actions>\n         </v-card>\n      </v-dialog>\n   </v-container>\n</template>\n\n\n\n<script>\nexport default {\n   name: \"Main\",\n   data: () => ({\n      allData: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      buttonAction: \"Insert\",\n      popupTitle: \"Novo Utilizador\",\n      popupIsActive: false,\n   }),\n   methods: {\n      openPopup: function () {\n         this.firstName = \"\";\n         this.lastName = \"\";\n         this.buttonAction = \"Insert\";\n         this.popupIsActive = true;\n         this.popupTitle = \"Novo Utilizador\";\n      },\n      fetchAllData: function () {\n         this.axios\n            .post(\"http://api.pt/index.php\", {\n               action: \"fetchAll\",\n            })\n            .then((response) => (this.allData = response.data))\n            .catch((error) =>\n               alert(\"Erro: algo deu errado com o servidor: \", error)\n            );\n      },\n      submitData: function () {\n         if (this.firstName != \"\" && this.lastName != \"\") {\n            if (this.buttonAction == \"Insert\") {\n               this.axios\n                  .post(\"http://api.pt/index.php\", {\n                     action: \"insert\",\n                     firstName: this.firstName,\n                     lastName: this.lastName,\n                  })\n                  .then((response) => {\n                     this.popupIsActive = false;\n                     this.fetchAllData();\n                     this.firstName = \"\";\n                     this.lastName = \"\";\n                     alert(response.data.message);\n                  })\n                  .catch((error) =>\n                     alert(\"Erro: algo deu errado com o servidor: \", error)\n                  );\n            }\n            if (this.buttonAction == \"Update\") {\n\n            }\n         } else {\n            alert(\"Os campos devem ser preenchidos!\");\n         }\n      },\n   },\n   created: function () {\n      this.fetchAllData();\n   },\n};\n</script>"]}]}